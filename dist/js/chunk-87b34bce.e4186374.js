(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87b34bce"],{"1f2c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create-competition row"},[i("div",{staticClass:"col s8 offset-s2"},[i("div",{staticClass:"title"},[i("h3",[t._v("New competition")]),i("button",{staticClass:"btn btn-small",on:{click:t.cancelBtnHandler}},[t._v("cancel")])]),t._l(t.errors,(function(e){return i("Alert",{key:e,attrs:{type:"danger"}},[t._v(t._s(e))])})),t.isLoading?i("Loader"):i("div",{staticClass:"row"},[i("div",{staticClass:"input-field col s12"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.competition.title,expression:"competition.title"}],attrs:{type:"text",id:"title",maxlength:"200"},domProps:{value:t.competition.title},on:{input:function(e){e.target.composing||t.$set(t.competition,"title",e.target.value)}}}),i("label",{staticClass:"active",attrs:{for:"title"}},[t._v("Title")])]),i("div",{staticClass:"input-field col s6"},[i("input",{ref:"startDate",staticClass:"datepicker",attrs:{type:"text",id:"start-date"}}),i("label",{attrs:{for:"start-date"}},[t._v("Start date")])]),i("div",{staticClass:"input-field col s6"},[i("input",{ref:"startTime",staticClass:"timepicker",attrs:{type:"text",id:"start-time"}}),i("label",{attrs:{for:"start-time"}},[t._v("Start time")])]),i("div",{staticClass:"input-field col s6"},[i("input",{ref:"finishDate",staticClass:"datepicker",attrs:{type:"text",id:"finish-date"}}),i("label",{attrs:{for:"finish-date"}},[t._v("Finish date")])]),i("div",{staticClass:"input-field col s6"},[i("input",{ref:"finishTime",staticClass:"timepicker",attrs:{type:"text",id:"finish-time"}}),i("label",{attrs:{for:"finish-time"}},[t._v("Finish time")])]),i("div",{staticClass:"input-field col s12"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.competition.duration,expression:"competition.duration"}],attrs:{type:"text",min:"1",id:"duration"},domProps:{value:t.competition.duration},on:{input:function(e){e.target.composing||t.$set(t.competition,"duration",e.target.value)}}}),i("label",{staticClass:"active",attrs:{for:"duration"}},[t._v("Duration (hh:mm)")])]),i("div",{staticClass:"input-field col s12"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.competition.description,expression:"competition.description"}],staticClass:"materialize-textarea",attrs:{id:"description"},domProps:{value:t.competition.description},on:{input:function(e){e.target.composing||t.$set(t.competition,"description",e.target.value)}}}),i("label",{staticClass:"active",attrs:{for:"description"}},[t._v("Description")])])]),t.isLoading?t._e():i("div",{staticClass:"create-comp-button"},[i("button",{staticClass:"btn btn-large",attrs:{id:"CreateCompBtn"},on:{click:t.createCompBtnHandler}},[t._v("Start")])])],2)])},r=[],s=(i("ac6a"),i("96cf"),i("3b8d")),a=i("98ab"),o=i("eecb"),c=i.n(o),u=i("124d"),l=i("555f"),p={name:"newCompetition",components:{Alert:a["a"],Loader:l["a"]},data:function(){return{competition:{test:0,start_time:"",finish_time:"",duration:"01:00",title:"",description:""},errors:[],isLoading:!1}},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getById(this.$route.params.id);case 2:e=document.querySelectorAll(".datepicker"),M.Datepicker.init(e),e=document.querySelectorAll(".timepicker"),M.Timepicker.init(e,{twelveHour:!1});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getById:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.errors=[],this.isLoading=!0,t.next=4,this.$store.dispatch("tests/getById",e);case 4:i=t.sent,i.errors.forEach((function(t){n.errors.push(t.message)})),this.competition.test=i.entity.id,this.competition.title=i.entity.title,this.competition.description=i.entity.description,this.isLoading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createCompBtnHandler:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.errors=[],this.isLoading=!0,this.competition.start_time=Object(u["d"])(this.$refs["startDate"].value+" "+this.$refs["startTime"].value),this.competition.finish_time=Object(u["d"])(this.$refs["finishDate"].value+" "+this.$refs["finishTime"].value),t.next=6,this.$store.dispatch("competitions/create",this.competition);case 6:e=t.sent,this.isLoading=!1,e.errors.forEach((function(t){i.errors.push(t.message)})),e.isSuccess&&(c.a.create({type:"success",message:"The competition was created successfully"}),this.$router.push({name:"myCompetitions"}));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelBtnHandler:function(){var t=confirm("Are you sure you want to cancel competition creation?");1==t&&this.$router.push("/tests/")}}},d=p,m=(i("d085"),i("2877")),f=Object(m["a"])(d,n,r,!1,null,null,null);e["default"]=f.exports},a78e:function(t,e,i){var n,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(s){var a;if(n=s,r="function"===typeof n?n.call(e,i,e,t):n,void 0===r||(t.exports=r),a=!0,t.exports=s(),a=!0,!a){var o=window.Cookies,c=window.Cookies=s();c.noConflict=function(){return window.Cookies=o,c}}})((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(n){function r(){}function s(e,i,s){if("undefined"!==typeof document){s=t({path:"/"},r.defaults,s),"number"===typeof s.expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(u){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var c in s)s[c]&&(o+="; "+c,!0!==s[c]&&(o+="="+s[c].split(";")[0]));return document.cookie=e+"="+i+o}}function a(t,i){if("undefined"!==typeof document){for(var r={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),c=o.slice(1).join("=");i||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(o[0]);if(c=(n.read||n)(c,u)||e(c),i)try{c=JSON.parse(c)}catch(l){}if(r[u]=c,t===u)break}catch(l){}}return t?r[t]:r}}return r.set=s,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,i){s(e,"",t(i,{expires:-1}))},r.defaults={},r.withConverter=i,r}return i((function(){}))}))},d085:function(t,e,i){"use strict";var n=i("f4f3"),r=i.n(n);r.a},eecb:function(t,e,i){const n=i("a78e"),r=(t={})=>{if(Object.values(t).filter(t=>t).length>0){const e=s();o(e),n.set(e,t)}},s=(t=a())=>{return void 0===n.get(t)?t:s(a())},a=()=>{return`jsFlash-${Date.now()}`},o=t=>{const e=n.getJSON("jsFlashNames"),i=void 0===e?[]:e;i.push(t),n.set("jsFlashNames",i)},c=()=>{const t=n.getJSON("jsFlashNames");if(void 0===t)return[];{const e=t.map(t=>{const e=n.getJSON(t);return n.remove(t),e});return n.remove("jsFlashNames"),e}};e.create=r,e.get=c},f4f3:function(t,e,i){}}]);
//# sourceMappingURL=chunk-87b34bce.e4186374.js.map